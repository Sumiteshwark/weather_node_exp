<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        
    </style>
</head>
<body>
    <nav class="nav">
        <div class="left">
            <h1 id="newday"></h1>
        </div>
        <div class="right">
            <h1 id="newtime"></h1>
        </div>
    </nav>
    <div class="container">
        <div class="weather-title">
            <h1>Checking Weather</h1>
            <p>Check the cuttemt weather for your city</p>
        </div>
        <form action="/" method="post">
            <input type="text" name="city" class="ghost-input" placeholder="Enter a city" required>
            <button type="submit">check</button>
        </form>
        <div class="result">
            <% if(temp !== null){ %>
                <% temp = (temp - 273.15).toFixed(2) %>
                <h1 class="temp"><%= temp %> &#176;C</h1>
            <% } %>
            <div class="icon-des">
                <% if(icon !== null){ %>
                    <img class="icon" src="http://openweathermap.org/img/w/<%= icon %>.png" alt="weather icon">
                <% } %>
                <% if(des !== null){ %>
                    <h3><%= des %></h3>
                <% } %>
            </div>
            <% if(city !== null){ %>
                <h2 class="city"><%= city %></h2>
            <% } %>
        </div>
    </div>

    <script type="text/javascript">
        let today = new Date();
        const monthNames = ["January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
        ];
        let newday = document.getElementById("newday");
        let date = today.getDate()+' '+ monthNames[(today.getMonth())];
        newday.innerHTML = date;

        let newtime = document.getElementById("newtime");
        setInterval(()=> {
            let today = new Date();
            let time = today.getHours() + ":" + today.getMinutes() + ":" + today.getSeconds();
            newtime.innerHTML = time;
        },1000);
    </script>

</body>
</html>